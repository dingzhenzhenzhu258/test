<UserControl
    x:Class="BattlenetResources.Controls.Login"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:BattlenetResources.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <UserControl.Resources>
        <Style TargetType="ListBox">
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="FontWeight" Value="Normal" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ListBoxItem">
                                    <Border
                                        x:Name="bg"
                                        Margin="0,2,0,0"
                                        Padding="5"
                                        Background="Transparent"
                                        BorderBrush="Transparent"
                                        BorderThickness="2,0,0,0"
                                        CornerRadius="2">
                                        <ContentPresenter
                                            x:Name="content"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            TextElement.FontSize="{TemplateBinding FontSize}"
                                            TextElement.FontStyle="{TemplateBinding FontStyle}"
                                            TextElement.FontWeight="{TemplateBinding FontWeight}"
                                            TextElement.Foreground="{TemplateBinding Foreground}" />
                                    </Border>

                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="content" Property="TextElement.Foreground" Value="White" />
                                            <Setter TargetName="bg" Property="Background" Value="#272930" />
                                        </Trigger>

                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="content" Property="TextElement.Foreground" Value="White" />
                                            <Setter TargetName="bg" Property="Background" Value="#272930" />
                                            <Setter TargetName="bg" Property="BorderBrush" Value="#148EFF" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBox">
                        <Border Name="Border">
                            <ScrollViewer Margin="0" Focusable="false">
                                <!--
                                    在普通的 ControlTemplate 中，我们通常需要一个 ContentPresenter 来显示内容，但在列表控件（如 ListBox, ListView, ComboBox）中，秘密就在你代码里的这一行：
                                    
                                    IsItemsHost="True" —— 魔法的来源
                                    在 ListBox 的模板中，StackPanel（或者其他布局面板）加上 IsItemsHost="True" 这个属性，就等同于告诉 WPF：“这里就是装子项目的篮子”。
                                    
                                    注意： IsItemsHost="True"  当你设置了 IsItemsHost="True"，WPF 的内部逻辑会自动完成以下几件事：
                                    
                                    接管容器：WPF 不再寻找 ContentPresenter，而是直接把 ListBox 里的所有 ListBoxItem 扔进这个设置了 IsItemsHost 的面板（这里是你的 StackPanel）中。
                                    
                                    生成集合：如果你绑定了 ItemsSource，WPF 会为每一个数据项生成一个 ListBoxItem，并把它们作为 Children 添加到这个 StackPanel 里。
                                    
                                    布局职责：这个 StackPanel 负责了内容的排列方式（垂直或水平）。
                                -->
                                <VirtualizingStackPanel Margin="2" IsItemsHost="True" />
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type GroupBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type GroupBox}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <ContentPresenter
                                Margin="4,4,4,2"
                                HorizontalAlignment="Left"
                                ContentSource="Header"
                                RecognizesAccessKey="False"
                                TextElement.FontSize="{TemplateBinding FontSize}"
                                TextElement.FontStyle="{TemplateBinding FontStyle}"
                                TextElement.FontWeight="{TemplateBinding FontWeight}"
                                TextElement.Foreground="{TemplateBinding Foreground}" />

                            <Border
                                Grid.Row="1"
                                Margin="0,0,0,4"
                                BorderBrush="#36383E"
                                BorderThickness="0,0,0,1"
                                CornerRadius="0">
                                <ContentPresenter />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type ComboBoxItem}">
            <Setter Property="BorderBrush" Value="#FFFFFF" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Padding" Value="10,2" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border
                            x:Name="Border"
                            Margin="2"
                            Background="Transparent"
                            BorderBrush="#404147"
                            BorderThickness="0,0,0,0.5"
                            CornerRadius="3">
                            <ContentPresenter
                                Margin="{TemplateBinding Padding}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                TextElement.Foreground="{TemplateBinding BorderBrush}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#323339" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <LinearGradientBrush x:Key="ProgressBarIndicatorAnimatedFill" StartPoint="0,0" EndPoint="1,0">
            <LinearGradientBrush.GradientStops>
                <GradientStopCollection>
                    <GradientStop Offset="0" Color="#000000FF" />
                    <GradientStop Offset="0.4" Color="#600000FF" />
                    <GradientStop Offset="0.6" Color="#600000FF" />
                    <GradientStop Offset="1" Color="#000000FF" />
                </GradientStopCollection>
            </LinearGradientBrush.GradientStops>
        </LinearGradientBrush>

        <ControlTemplate x:Key="ComboBoxTextBox" TargetType="{x:Type TextBox}">
            <Border
                x:Name="PART_ContentHost"
                Background="{TemplateBinding Background}"
                Focusable="False" />
        </ControlTemplate>

        <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="{x:Type ToggleButton}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="20" />
                </Grid.ColumnDefinitions>
                <Border
                    x:Name="Border"
                    Grid.ColumnSpan="2"
                    Background="Transparent"
                    BorderThickness="1"
                    CornerRadius="2" />

                <Path
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Data="M 0,0 L 4,4 L 8,0"
                    Stroke="#A0A0A3"
                    StrokeEndLineCap="Round"
                    StrokeLineJoin="Round"
                    StrokeStartLineCap="Round"
                    StrokeThickness="1.5" />
            </Grid>
        </ControlTemplate>

        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid>
                            <ToggleButton
                                x:Name="ToggleButton"
                                Grid.Column="2"
                                ClickMode="Press"
                                Focusable="false"
                                IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                Template="{StaticResource ComboBoxToggleButton}" />
                            <ContentPresenter
                                x:Name="ContentSite"
                                Margin="3,3,23,3"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Stretch"
                                Content="{TemplateBinding SelectionBoxItem}"
                                ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                IsHitTestVisible="False"
                                TextElement.Foreground="White" />
                            <TextBox
                                x:Name="PART_EditableTextBox"
                                Margin="3,3,23,3"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Bottom"
                                Background="Transparent"
                                Focusable="True"
                                IsReadOnly="{TemplateBinding IsReadOnly}"
                                Style="{x:Null}"
                                Template="{StaticResource ComboBoxTextBox}"
                                Visibility="Hidden" />
                            <Popup
                                x:Name="Popup"
                                Margin="5"
                                AllowsTransparency="True"
                                Focusable="False"
                                HorizontalOffset="-4"
                                IsOpen="{TemplateBinding IsDropDownOpen}"
                                Placement="Bottom"
                                PopupAnimation="Slide">
                                <Grid
                                    x:Name="DropDown"
                                    MinWidth="{TemplateBinding ActualWidth}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                    SnapsToDevicePixels="True">
                                    <Border
                                        x:Name="DropDownBorder"
                                        Background="#15171E"
                                        BorderThickness="1" />
                                    <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasItems" Value="false">
                                <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95" />
                            </Trigger>
                            <Trigger Property="IsGrouping" Value="true">
                                <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                            </Trigger>
                            <Trigger SourceName="Popup" Property="AllowsTransparency" Value="true">
                                <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="4" />
                                <Setter TargetName="DropDownBorder" Property="Margin" Value="0,2,0,0" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <Style TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <!--
                            BulletDecorator：左右结构布局
                            这是 WPF 专门用于处理“小图标 + 文字”布局的控件。
                            Bullet 区域：放置那个 13x13 的方框。
                            ContentPresenter：放置 CheckBox 的文字内容（如“记住密码”）。RecognizesAccessKey="True" 表示支持快捷键（比如文字里有 _A，按 Alt+A 就能选中）。
                        -->
                        <BulletDecorator Background="Transparent">
                            <BulletDecorator.Bullet>
                                <Border
                                    x:Name="Border"
                                    Width="15"
                                    Height="15"
                                    Margin="1.5,0,0,0"
                                    Background="Transparent"
                                    BorderBrush="White"
                                    BorderThickness="1"
                                    CornerRadius="2">
                                    <Grid>
                                        <Path
                                            x:Name="CheckMark"
                                            Width="12"
                                            Height="10"
                                            Data="M 1,5 L 4,8 L 11,1"
                                            SnapsToDevicePixels="True"
                                            Stroke="#6BD900"
                                            StrokeThickness="2"
                                            Visibility="Collapsed" />
                                        <Path
                                            x:Name="InderminateMark"
                                            Width="10"
                                            Height="2"
                                            Data="M 0,1 L 10,1"
                                            SnapsToDevicePixels="True"
                                            Stroke="#6BD900"
                                            StrokeThickness="2"
                                            Visibility="Collapsed" />
                                    </Grid>
                                </Border>
                            </BulletDecorator.Bullet>

                            <ContentPresenter
                                Margin="10,0,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                RecognizesAccessKey="True"
                                TextElement.Foreground="#D9DADB" />
                        </BulletDecorator>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="{x:Null}">
                                <Setter TargetName="InderminateMark" Property="Visibility" Value="Visible" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True" />
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style TargetType="{x:Type local:EmailAutoCompleteTextBox}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="CaretBrush" Value="White" />
            <Setter Property="MinHeight" Value="35" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type local:EmailAutoCompleteTextBox}">
                        <Grid>
                            <Border
                                x:Name="Border"
                                Padding="6"
                                Background="{TemplateBinding Background}"
                                BorderBrush="#6B6C70"
                                BorderThickness="1"
                                CornerRadius="3">
                                <Grid>
                                    <!--
                                        在 TextBox 的模板中，必须有一个名为 PART_ContentHost 的元素（通常是 ScrollViewer 或 AdornerDecorator）。
                                        WPF 内部逻辑会自动找到这个名字，并将你输入的文字、光标渲染在这里
                                    -->
                                    <ScrollViewer
                                        x:Name="PART_ContentHost"
                                        Margin="10,0,25,0"
                                        VerticalAlignment="Center" />
                                    <TextBlock
                                        x:Name="PART_Placeholder"
                                        Margin="12,0,0,0"
                                        VerticalAlignment="Center"
                                        Foreground="#666666"
                                        IsHitTestVisible="False"
                                        Text="请输入邮箱"
                                        Visibility="Collapsed" />
                                    <Button
                                        x:Name="PART_ClearButton"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Cursor="Hand"
                                        Visibility="Collapsed">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    FontSize="18"
                                                    Foreground="#999999"
                                                    Text="×" />
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </Grid>
                            </Border>

                            <Popup
                                x:Name="PART_MyPopup"
                                Width="{Binding ElementName=Border, Path=ActualWidth}"
                                AllowsTransparency="True"
                                IsOpen="False"
                                Placement="Bottom"
                                PlacementTarget="{Binding ElementName=Border}"
                                PopupAnimation="Fade"
                                StaysOpen="False">
                                <Border
                                    Background="#2D2D30"
                                    BorderBrush="#63AEE4"
                                    BorderThickness="1"
                                    CornerRadius="0,0,3,3">
                                    <ListBox
                                        x:Name="PART_EmailList"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Foreground="White">
                                        <ListBoxItem Padding="8,5" Content="@qq.com" />
                                        <ListBoxItem Padding="8,5" Content="@163.com" />
                                        <ListBoxItem Padding="8,5" Content="@gmail.com" />
                                    </ListBox>
                                </Border>
                            </Popup>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <!--  占位符和清除按钮的触发器  -->
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="PART_Placeholder" Property="Visibility" Value="Visible" />
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                            <Trigger Property="Text" Value="{x:Null}">
                                <Setter TargetName="PART_Placeholder" Property="Visibility" Value="Visible" />
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="Text" Value="" />
                                    <Condition Property="IsFocused" Value="False" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="PART_Placeholder" Property="Visibility" Value="Visible" />
                            </MultiTrigger>

                            <!--  有文本时显示清除按钮  -->
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="Text" Value="" />
                                    <Condition Property="IsFocused" Value="False" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </MultiTrigger>
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="Text" Value="" />
                                    <Condition Property="IsFocused" Value="True" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </MultiTrigger>
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="PART_ClearButton" Property="Visibility" Value="Collapsed" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>


    <Border Margin="20,20" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.3*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <StackPanel>
                    <Border
                        Width="300"
                        Height="30"
                        Background="#433826"
                        CornerRadius="5">
                        <StackPanel
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <TextBlock
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="10"
                                Foreground="#F5B63F"
                                Text="&#xE946;" />
                            <TextBlock FontSize="10">
                                <Run Foreground="#F5B63F" Text="  点击查看：网易手机账号与网易邮箱账号的" />
                                <Hyperlink Foreground="#FFB202" TextDecorations="Underline">
                                    <Run Text="区别" />
                                </Hyperlink>
                            </TextBlock>
                        </StackPanel>
                    </Border>


                    <!--<Image Source="/BattlenetResources;component/Images/ScreenShot_2025-12-26_163644_110.png" />-->
                </StackPanel>

                <TabControl Grid.Row="1">
                    <TabItem Header="登录">
                        <StackPanel>
                            <TextBox>
                                <TextBox.Style>
                                    <Style TargetType="{x:Type TextBox}">
                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                        <Setter Property="OverridesDefaultStyle" Value="True" />
                                        <Setter Property="KeyboardNavigation.TabNavigation" Value="None" />
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                        <Setter Property="MinWidth" Value="120" />
                                        <Setter Property="MinHeight" Value="20" />
                                        <Setter Property="AllowDrop" Value="true" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                                                    <Border
                                                        Name="Border"
                                                        Padding="6"
                                                        Background="Transparent"
                                                        BorderBrush="#6B6C70"
                                                        BorderThickness="1"
                                                        CornerRadius="3">
                                                        <!--
                                                            在 TextBox 的模板中，必须有一个名为 PART_ContentHost 的元素（通常是 ScrollViewer 或 AdornerDecorator）。
                                                            WPF 内部逻辑会自动找到这个名字，并将你输入的文字、光标渲染在这里
                                                        -->
                                                        <DockPanel>
                                                            <ComboBox>
                                                                <ComboBoxItem Content="网易邮箱账号" />
                                                            </ComboBox>
                                                            <Grid>
                                                                <TextBox
                                                                    x:Name="AccountInput"
                                                                    Padding="5,0"
                                                                    VerticalAlignment="Center"
                                                                    VerticalContentAlignment="Center"
                                                                    Background="Transparent"
                                                                    BorderThickness="0"
                                                                    CaretBrush="White"
                                                                    FontSize="14"
                                                                    FontWeight="Bold"
                                                                    Foreground="White" />
                                                                <TextBlock
                                                                    Margin="10,0"
                                                                    VerticalAlignment="Center"
                                                                    Foreground="#666666"
                                                                    IsHitTestVisible="False"
                                                                    Text="请输入手机号">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Text.Length, ElementName=AccountInput}" Value="0">
                                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>

                                                                <Button
                                                                    Margin="0,0,8,0"
                                                                    HorizontalAlignment="Right"
                                                                    VerticalAlignment="Center"
                                                                    Cursor="Hand">
                                                                    <Button.Style>
                                                                        <Style TargetType="Button">
                                                                            <Setter Property="Background" Value="Transparent" />
                                                                            <Setter Property="Template">
                                                                                <Setter.Value>
                                                                                    <ControlTemplate TargetType="Button">
                                                                                        <Border Background="Transparent">
                                                                                            <TextBlock
                                                                                                FontSize="18"
                                                                                                Foreground="{TemplateBinding Foreground}"
                                                                                                Text="×" />
                                                                                        </Border>
                                                                                    </ControlTemplate>
                                                                                </Setter.Value>
                                                                            </Setter>

                                                                            <Setter Property="Visibility" Value="Visible" />
                                                                            <Setter Property="Foreground" Value="#999999" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Text.Length, ElementName=AccountInput}" Value="0">
                                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Button.Style>

                                                                    <behaviors:Interaction.Triggers>
                                                                        <behaviors:EventTrigger EventName="Click">
                                                                            <!--  将AccountInput的Text属性设置为空字符串  -->
                                                                            <behaviors:ChangePropertyAction
                                                                                PropertyName="Text"
                                                                                TargetName="AccountInput"
                                                                                Value="" />
                                                                        </behaviors:EventTrigger>
                                                                    </behaviors:Interaction.Triggers>

                                                                    <Button.Content>×</Button.Content>
                                                                </Button>
                                                            </Grid>
                                                        </DockPanel>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="White" />
                                                        </Trigger>
                                                        <Trigger SourceName="AccountInput" Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#63AEE4" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>

                            <TextBox Margin="0,10">
                                <TextBox.Style>
                                    <Style TargetType="{x:Type TextBox}">
                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                        <Setter Property="OverridesDefaultStyle" Value="True" />
                                        <Setter Property="KeyboardNavigation.TabNavigation" Value="None" />
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                        <Setter Property="MinWidth" Value="120" />
                                        <Setter Property="MinHeight" Value="20" />
                                        <Setter Property="AllowDrop" Value="true" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                                                    <Border
                                                        Name="Border"
                                                        Padding="8"
                                                        Background="Transparent"
                                                        BorderBrush="#6B6C70"
                                                        BorderThickness="1"
                                                        CornerRadius="3">
                                                        <!--
                                                            在 TextBox 的模板中，必须有一个名为 PART_ContentHost 的元素（通常是 ScrollViewer 或 AdornerDecorator）。
                                                            WPF 内部逻辑会自动找到这个名字，并将你输入的文字、光标渲染在这里
                                                        -->
                                                        <DockPanel>
                                                            <Button
                                                                BorderBrush="#3D91F7"
                                                                Content="获取验证码"
                                                                DockPanel.Dock="Right">
                                                                <Button.Template>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border Background="Transparent">
                                                                            <ContentPresenter
                                                                                x:Name="TextHolder"
                                                                                HorizontalAlignment="Center"
                                                                                VerticalAlignment="Center"
                                                                                TextElement.Foreground="{TemplateBinding BorderBrush}" />
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <EventTrigger RoutedEvent="Button.Click">
                                                                                <EventTrigger.Actions>
                                                                                    <BeginStoryboard>
                                                                                        <Storyboard>
                                                                                            <ColorAnimation
                                                                                                Storyboard.TargetName="TextHolder"
                                                                                                Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)"
                                                                                                To="#888888"
                                                                                                Duration="0:0:0" />

                                                                                            <ColorAnimation
                                                                                                BeginTime="0:0:2"
                                                                                                Storyboard.TargetName="TextHolder"
                                                                                                Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)"
                                                                                                To="#3D91F7"
                                                                                                Duration="0:0:0" />
                                                                                        </Storyboard>
                                                                                    </BeginStoryboard>
                                                                                </EventTrigger.Actions>
                                                                            </EventTrigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Button.Template>
                                                            </Button>
                                                            <Grid>
                                                                <TextBox
                                                                    x:Name="AccountInput"
                                                                    Padding="5,0"
                                                                    VerticalAlignment="Center"
                                                                    VerticalContentAlignment="Center"
                                                                    Background="Transparent"
                                                                    BorderThickness="0"
                                                                    CaretBrush="White"
                                                                    FontSize="14"
                                                                    FontWeight="Bold"
                                                                    Foreground="White" />
                                                                <TextBlock
                                                                    Margin="10,0"
                                                                    VerticalAlignment="Center"
                                                                    Foreground="#666666"
                                                                    IsHitTestVisible="False"
                                                                    Text="请输入短信验证码">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Text.Length, ElementName=AccountInput}" Value="0">
                                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                            </Grid>

                                                        </DockPanel>

                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="White" />
                                                        </Trigger>
                                                        <Trigger SourceName="AccountInput" Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#63AEE4" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>

                            <Button
                                Name="RegisterButton"
                                Height="40"
                                Margin="0,10,0,10"
                                Content="快捷登录"
                                FontSize="15">
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}">
                                        <Setter Property="Background" Value="#0074E0" />
                                        <Setter Property="Foreground" Value="White" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type Button}">
                                                    <Border
                                                        x:Name="RootBorder"
                                                        Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="1"
                                                        ClipToBounds="True"
                                                        CornerRadius="5">

                                                        <Grid>
                                                            <Ellipse
                                                                x:Name="RippleEffect"
                                                                Width="10"
                                                                Height="10"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Fill="#3D91F7"
                                                                IsHitTestVisible="False"
                                                                Opacity="0">
                                                                <Ellipse.RenderTransform>
                                                                    <ScaleTransform x:Name="RippleScale" CenterX="5" CenterY="5" ScaleX="0" ScaleY="0" />
                                                                </Ellipse.RenderTransform>
                                                            </Ellipse>
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                        </Grid>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" Value="True" />
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="BorderBrush" Value="#80CAFF" />
                                                                <Setter Property="Background" Value="#0084FF" />
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <EventTrigger RoutedEvent="Button.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation
                                                                        Storyboard.TargetName="RippleScale"
                                                                        Storyboard.TargetProperty="ScaleX"
                                                                        From="0"
                                                                        To="20"
                                                                        Duration="0:0:0.6">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <CircleEase EasingMode="EaseOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>
                                                                    <DoubleAnimation
                                                                        Storyboard.TargetName="RippleScale"
                                                                        Storyboard.TargetProperty="ScaleY"
                                                                        From="0"
                                                                        To="20"
                                                                        Duration="0:0:0.6">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <CircleEase EasingMode="EaseOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>

                                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="RippleEffect" Storyboard.TargetProperty="Opacity">
                                                                        <DiscreteDoubleKeyFrame KeyTime="0" Value="0.9" />
                                                                        <LinearDoubleKeyFrame KeyTime="0:0:0.8" Value="0" />
                                                                    </DoubleAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>

                            <StackPanel Orientation="Horizontal">
                                <CheckBox Content="30天免登录" />
                                <TextBlock>
                                    <Run Text=" |" />
                                    <Hyperlink Foreground="#D9DADB" TextDecorations="None">
                                        <Run Text="遇到问题？" />
                                    </Hyperlink>
                                </TextBlock>
                            </StackPanel>

                            <CheckBox Margin="0,10,0,0">
                                <TextBlock Foreground="#D9DADB" TextWrapping="Wrap">
                                    <Run Text="我已详细阅读并同意" />
                                    <Hyperlink TextDecorations="None">
                                        <Run Foreground="#147FF1" Text="《网易游戏隐私政策》" />
                                    </Hyperlink>
                                    <Run Text="和" />
                                    <Hyperlink TextDecorations="None">
                                        <Run Foreground="#147FF1" Text="《网易游戏使用许可及服务协议》" />
                                    </Hyperlink>
                                </TextBlock>
                            </CheckBox>

                            <CheckBox Margin="0,10,0,0">
                                <TextBlock
                                    Foreground="#D9DADB"
                                    Text="我同意网易向网之易传输我的实名信息(姓名、身份证号)及手机号码等账号信息，用于登录、注册或绑定战网账号。"
                                    TextWrapping="Wrap" />
                            </CheckBox>
                        </StackPanel>
                    </TabItem>

                    <TabItem Header="注册">
                        <StackPanel>
                            <local:EmailAutoCompleteTextBox />

                            <TextBox Margin="0,10">
                                <TextBox.Style>
                                    <Style TargetType="{x:Type TextBox}">
                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                        <Setter Property="OverridesDefaultStyle" Value="True" />
                                        <Setter Property="KeyboardNavigation.TabNavigation" Value="None" />
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                        <Setter Property="MinWidth" Value="120" />
                                        <Setter Property="MinHeight" Value="20" />
                                        <Setter Property="AllowDrop" Value="true" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                                                    <Border
                                                        Name="Border"
                                                        Padding="8"
                                                        Background="Transparent"
                                                        BorderBrush="#6B6C70"
                                                        BorderThickness="1"
                                                        CornerRadius="3">
                                                        <!--
                                                            在 TextBox 的模板中，必须有一个名为 PART_ContentHost 的元素（通常是 ScrollViewer 或 AdornerDecorator）。
                                                            WPF 内部逻辑会自动找到这个名字，并将你输入的文字、光标渲染在这里
                                                        -->
                                                        <DockPanel>
                                                            <Button
                                                                BorderBrush="#3D91F7"
                                                                Content="获取验证码"
                                                                DockPanel.Dock="Right">
                                                                <Button.Template>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border Background="Transparent">
                                                                            <ContentPresenter
                                                                                x:Name="TextHolder"
                                                                                HorizontalAlignment="Center"
                                                                                VerticalAlignment="Center"
                                                                                TextElement.Foreground="{TemplateBinding BorderBrush}" />
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <EventTrigger RoutedEvent="Button.Click">
                                                                                <EventTrigger.Actions>
                                                                                    <BeginStoryboard>
                                                                                        <Storyboard>
                                                                                            <ColorAnimation
                                                                                                Storyboard.TargetName="TextHolder"
                                                                                                Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)"
                                                                                                To="#888888"
                                                                                                Duration="0:0:0" />

                                                                                            <ColorAnimation
                                                                                                BeginTime="0:0:2"
                                                                                                Storyboard.TargetName="TextHolder"
                                                                                                Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)"
                                                                                                To="#3D91F7"
                                                                                                Duration="0:0:0" />
                                                                                        </Storyboard>
                                                                                    </BeginStoryboard>
                                                                                </EventTrigger.Actions>
                                                                            </EventTrigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Button.Template>
                                                            </Button>
                                                            <Grid>
                                                                <TextBox
                                                                    x:Name="AccountInput"
                                                                    Padding="5,0"
                                                                    VerticalAlignment="Center"
                                                                    VerticalContentAlignment="Center"
                                                                    Background="Transparent"
                                                                    BorderThickness="0"
                                                                    CaretBrush="White"
                                                                    FontSize="14"
                                                                    FontWeight="Bold"
                                                                    Foreground="White" />
                                                                <TextBlock
                                                                    Margin="10,0"
                                                                    VerticalAlignment="Center"
                                                                    Foreground="#666666"
                                                                    IsHitTestVisible="False"
                                                                    Text="请输入短信验证码">
                                                                    <TextBlock.Style>
                                                                        <Style TargetType="TextBlock">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Text.Length, ElementName=AccountInput}" Value="0">
                                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                            </Grid>

                                                        </DockPanel>

                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="White" />
                                                        </Trigger>
                                                        <Trigger SourceName="AccountInput" Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="#63AEE4" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>

                            <Button
                                Height="40"
                                Margin="0,10,0,10"
                                Content="登录"
                                FontSize="15">
                                <Button.Style>
                                    <Style TargetType="{x:Type Button}">
                                        <Setter Property="Background" Value="#0074E0" />
                                        <Setter Property="Foreground" Value="White" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type Button}">
                                                    <Border
                                                        x:Name="RootBorder"
                                                        Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="1"
                                                        ClipToBounds="True"
                                                        CornerRadius="5">

                                                        <Grid>
                                                            <Ellipse
                                                                x:Name="RippleEffect"
                                                                Width="10"
                                                                Height="10"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Fill="#3D91F7"
                                                                IsHitTestVisible="False"
                                                                Opacity="0">
                                                                <Ellipse.RenderTransform>
                                                                    <ScaleTransform x:Name="RippleScale" CenterX="5" CenterY="5" ScaleX="0" ScaleY="0" />
                                                                </Ellipse.RenderTransform>
                                                            </Ellipse>
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                        </Grid>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" Value="True" />
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="BorderBrush" Value="#80CAFF" />
                                                                <Setter Property="Background" Value="#0084FF" />
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <EventTrigger RoutedEvent="Button.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation
                                                                        Storyboard.TargetName="RippleScale"
                                                                        Storyboard.TargetProperty="ScaleX"
                                                                        From="0"
                                                                        To="20"
                                                                        Duration="0:0:0.6">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <CircleEase EasingMode="EaseOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>
                                                                    <DoubleAnimation
                                                                        Storyboard.TargetName="RippleScale"
                                                                        Storyboard.TargetProperty="ScaleY"
                                                                        From="0"
                                                                        To="20"
                                                                        Duration="0:0:0.6">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <CircleEase EasingMode="EaseOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>

                                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="RippleEffect" Storyboard.TargetProperty="Opacity">
                                                                        <DiscreteDoubleKeyFrame KeyTime="0" Value="0.9" />
                                                                        <LinearDoubleKeyFrame KeyTime="0:0:0.8" Value="0" />
                                                                    </DoubleAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>

                            <!--
                            这是原本的方案，但是 去注册 靠右是不行的
                            这里有一个核心的概念：“布局测量的无穷大”。
                            StackPanel: 像一条无限长的传送带。它问子控件：“你要多宽？”子控件说：“我要 100 像素。” StackPanel 就给它 100 像素，然后剩下的空间它不管。所以内部的 HorizontalAlignment="Right" 失去了参照物。
                            Grid / DockPanel: 像一个固定大小的盒子。它们会告诉子控件：“我现在总共有 400 像素宽，你自己看着办。” 这时子控件设置 Right 才能生效。

                            <StackPanel Orientation="Horizontal">
                                <CheckBox Content="30天免登录" />
                                <DockPanel LastChildFill="False" HorizontalAlignment="Right">
                                    <TextBlock>
                                        <Run Text=" |" />
                                        <Hyperlink Foreground="#D9DADB" TextDecorations="None">
                                            <Run Text="忘记密码" />
                                        </Hyperlink>
                                    </TextBlock>
                                    <TextBlock DockPanel.Dock="Right">
                                        <Hyperlink Foreground="#D9DADB" TextDecorations="None">
                                            <Run Text="去注册" />
                                        </Hyperlink>
                                    </TextBlock>
                                </DockPanel>
                            </StackPanel>
                            -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>


                                <StackPanel Orientation="Horizontal">
                                    <CheckBox Content="30天免登录" />
                                    <TextBlock>
                                        <Run Text=" |" />
                                        <Hyperlink Foreground="#D9DADB" TextDecorations="None">
                                            <Run Text="忘记密码" />
                                        </Hyperlink>
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">
                                    <TextBlock>
                                        <Hyperlink Foreground="#D9DADB" TextDecorations="None">
                                            <Run Text="去注册" />
                                        </Hyperlink>
                                    </TextBlock>
                                </StackPanel>
                            </Grid>

                            <CheckBox Margin="0,10,0,0">
                                <TextBlock Foreground="#D9DADB" TextWrapping="Wrap">
                                    <Run Text="我已详细阅读并同意" />
                                    <Hyperlink TextDecorations="None">
                                        <Run Foreground="#147FF1" Text="《网易游戏隐私政策》" />
                                    </Hyperlink>
                                    <Run Text="和" />
                                    <Hyperlink TextDecorations="None">
                                        <Run Foreground="#147FF1" Text="《网易游戏使用许可及服务协议》" />
                                    </Hyperlink>
                                </TextBlock>
                            </CheckBox>

                            <CheckBox Margin="0,10,0,0">
                                <TextBlock
                                    Foreground="#D9DADB"
                                    Text="我同意网易向网之易传输我的实名信息(姓名、身份证号)及手机号码等账号信息，用于登录、注册或绑定战网账号。"
                                    TextWrapping="Wrap" />
                            </CheckBox>
                        </StackPanel>
                    </TabItem>

                    <TabControl.Resources>
                        <!--  Control colors.  -->
                        <Color x:Key="WindowColor">#FFE8EDF9</Color>
                        <Color x:Key="ContentAreaColorLight">#FFC5CBF9</Color>
                        <Color x:Key="ContentAreaColorDark">#FF7381F9</Color>

                        <Color x:Key="DisabledControlLightColor">#FFE8EDF9</Color>
                        <Color x:Key="DisabledControlDarkColor">#FFC5CBF9</Color>
                        <Color x:Key="DisabledForegroundColor">#FF888888</Color>

                        <Color x:Key="SelectedBackgroundColor">#FFC5CBF9</Color>
                        <Color x:Key="SelectedUnfocusedColor">#FFDDDDDD</Color>

                        <Color x:Key="ControlLightColor">White</Color>
                        <Color x:Key="ControlMediumColor">#FF7381F9</Color>
                        <Color x:Key="ControlDarkColor">#FF211AA9</Color>

                        <Color x:Key="ControlMouseOverColor">#FF3843C4</Color>
                        <Color x:Key="ControlPressedColor">#FF211AA9</Color>


                        <Color x:Key="GlyphColor">#FF444444</Color>
                        <Color x:Key="GlyphMouseOver">sc#1, 0.004391443, 0.002428215, 0.242281124</Color>

                        <!--  Border colors  -->
                        <Color x:Key="BorderLightColor">#FFCCCCCC</Color>
                        <Color x:Key="BorderMediumColor">#FF888888</Color>
                        <Color x:Key="BorderDarkColor">#FF444444</Color>

                        <Color x:Key="PressedBorderLightColor">#FF888888</Color>
                        <Color x:Key="PressedBorderDarkColor">#FF444444</Color>

                        <Color x:Key="DisabledBorderLightColor">#FFAAAAAA</Color>
                        <Color x:Key="DisabledBorderDarkColor">#FF888888</Color>

                        <Color x:Key="DefaultBorderBrushDarkColor">Black</Color>

                        <!--  Control-specific resources.  -->
                        <Color x:Key="HeaderTopColor">#FFC5CBF9</Color>
                        <Color x:Key="DatagridCurrentCellBorderColor">Black</Color>
                        <Color x:Key="SliderTrackDarkColor">#FFC5CBF9</Color>

                        <Color x:Key="NavButtonFrameColor">#FF3843C4</Color>

                        <LinearGradientBrush x:Key="MenuPopupBrush" StartPoint="0.5,0" EndPoint="0.5,1">
                            <GradientStop Offset="0" Color="{DynamicResource ControlLightColor}" />
                            <GradientStop Offset="0.5" Color="{DynamicResource ControlMediumColor}" />
                            <GradientStop Offset="1" Color="{DynamicResource ControlLightColor}" />
                        </LinearGradientBrush>

                        <LinearGradientBrush x:Key="ProgressBarIndicatorAnimatedFill" StartPoint="0,0" EndPoint="1,0">
                            <LinearGradientBrush.GradientStops>
                                <GradientStopCollection>
                                    <GradientStop Offset="0" Color="#000000FF" />
                                    <GradientStop Offset="0.4" Color="#600000FF" />
                                    <GradientStop Offset="0.6" Color="#600000FF" />
                                    <GradientStop Offset="1" Color="#000000FF" />
                                </GradientStopCollection>
                            </LinearGradientBrush.GradientStops>
                        </LinearGradientBrush>

                        <Style TargetType="{x:Type TabControl}">
                            <Setter Property="OverridesDefaultStyle" Value="True" />
                            <Setter Property="SnapsToDevicePixels" Value="True" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type TabControl}">
                                        <Grid KeyboardNavigation.TabNavigation="Local">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <!--  IsItemsHost="True"  -->
                                            <TabPanel
                                                x:Name="HeaderPanel"
                                                Grid.Row="0"
                                                Margin="0,0,4,5"
                                                HorizontalAlignment="Center"
                                                Panel.ZIndex="1"
                                                Background="Transparent"
                                                IsItemsHost="True"
                                                KeyboardNavigation.TabIndex="1" />
                                            <Border
                                                x:Name="Border"
                                                Grid.Row="1"
                                                Margin="0,5,0,0"
                                                KeyboardNavigation.DirectionalNavigation="Contained"
                                                KeyboardNavigation.TabIndex="2"
                                                KeyboardNavigation.TabNavigation="Local">
                                                <ContentPresenter x:Name="PART_SelectedContentHost" ContentSource="SelectedContent" />
                                            </Border>
                                        </Grid>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>

                        <Style TargetType="{x:Type TabItem}">
                            <Setter Property="Foreground" Value="#C2C2C4" />
                            <Setter Property="FontWeight" Value="Light" />
                            <Setter Property="FontSize" Value="13" />
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type TabItem}">
                                        <Grid x:Name="Root">
                                            <Border
                                                x:Name="Border"
                                                MinWidth="100"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="#3F4147"
                                                BorderThickness="0,0,0,1"
                                                CornerRadius="0">
                                                <ContentPresenter
                                                    x:Name="ContentSite"
                                                    Margin="12,2,12,5"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    ContentSource="Header"
                                                    RecognizesAccessKey="True"
                                                    TextElement.FontSize="{TemplateBinding FontSize}"
                                                    TextElement.FontWeight="{TemplateBinding FontWeight}"
                                                    TextElement.Foreground="{TemplateBinding Foreground}" />
                                            </Border>
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Panel.ZIndex" Value="100" />
                                                <Setter TargetName="Border" Property="BorderThickness" Value="0,0,0,2" />
                                                <Setter TargetName="Border" Property="BorderBrush" Value="#148EFF" />
                                                <Setter TargetName="ContentSite" Property="TextElement.FontWeight" Value="Bold" />
                                                <Setter TargetName="ContentSite" Property="TextElement.Foreground" Value="#148EFF" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TabControl.Resources>
                </TabControl>

            </Grid>
        </Grid>
    </Border>
</UserControl>
