<UserControl
    x:Class="BattlenetResources.Controls.Register"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:BattlenetResources.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources>

        <Style TargetType="{x:Type CheckBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <StackPanel Orientation="Horizontal">
                            <Border
                                x:Name="border"
                                Width="20"
                                Height="20"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                BorderBrush="White"
                                BorderThickness="0.5"
                                CornerRadius="3">
                                <Path
                                    x:Name="checkMark"
                                    Margin="2"
                                    Data="M2,8 L6,12 L14,4"
                                    Stretch="Uniform"
                                    Stroke="White"
                                    StrokeThickness="2"
                                    Visibility="Collapsed" />
                            </Border>
                            <ContentControl HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </StackPanel>

                        <!--  不能直接给 Border 设置内容属性为“勾”，因为 Border 是一个装饰控件，它的 Child 属性（即内容）只能在初始化时设置一次，不能通过触发器（Trigger）动态替换整个控件  -->
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#00AEFF" />
                                <Setter TargetName="border" Property="BorderBrush" Value="#00AEFF" />
                                <Setter TargetName="checkMark" Property="Visibility" Value="Visible" />
                            </Trigger>

                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#00AEFF" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="BlizzardLinkStyle" TargetType="Hyperlink">
            <Setter Property="Foreground" Value="#148EFF" />
            <Setter Property="TextDecorations" Value="None" />

            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#00CCFF" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
        <TextBlock
            FontSize="33"
            FontWeight="Bold"
            Foreground="White"
            LineHeight="38"
            LineStackingStrategy="BlockLineHeight"
            Text="使用网易账号登录或&#x0a;注册"
            TextAlignment="Center" />

        <TextBlock
            Margin="10,14,0,0"
            FontSize="17"
            Foreground="#CDDADB"
            LineHeight="25"
            LineStackingStrategy="BlockLineHeight"
            TextAlignment="Center">
            <Run Text="您的战网通行证必须关联网易账号才能登" />
            <LineBreak />
            <Run Text="录。如果您已进行关联或当前没有战网通行" />
            <LineBreak />
            <Run Text="证，请接受相应条款，然后" />
            <Run
                FontWeight="Bold"
                Foreground="#D9DADB"
                Text="登录或注册" />
            <Run Text="。" />
        </TextBlock>

        <StackPanel
            Width="335"
            Margin="25,14,0,0"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Orientation="Horizontal">
            <CheckBox
                x:Name="AgreeCheckBox"
                Margin="10,3,10,0"
                VerticalAlignment="Top" />
            <TextBlock
                Width="250"
                FontSize="13"
                FontWeight="Bold"
                Foreground="#BEBEC0"
                LineHeight="22"
                LineStackingStrategy="BlockLineHeight"
                TextWrapping="Wrap">
                <Run Text="您同意" />
                <Hyperlink
                    Click="Hyperlink_Click"
                    Style="{StaticResource BlizzardLinkStyle}"
                    TextDecorations="None">
                    <Run Text="暴雪战网最终用户许可协议" />
                </Hyperlink>
                <Run Text="和" />
                <Hyperlink
                    Click="Hyperlink_Click"
                    Style="{StaticResource BlizzardLinkStyle}"
                    TextDecorations="None">
                    <Run Text="网易暴雪游戏服务隐私政策" />
                </Hyperlink>
                <LineBreak />
            </TextBlock>
        </StackPanel>

        <Button
            Name="RegisterButton"
            Width="300"
            Height="40"
            Margin="0,30,0,30"
            Content="使用网易账号登录或注册"
            FontSize="15">
            <Button.Style>
                <Style TargetType="{x:Type Button}">
                    <Setter Property="Background" Value="#003F7A" />
                    <Setter Property="Foreground" Value="#99B2CA" />
                    <Setter Property="BorderBrush" Value="Transparent" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type Button}">
                                <Border
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="5">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                </Border>

                                <ControlTemplate.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked, ElementName=AgreeCheckBox}" Value="True">
                                        <Setter Property="Background" Value="#0074E0" />
                                        <Setter Property="Foreground" Value="White" />
                                    </DataTrigger>

                                    <DataTrigger Binding="{Binding IsChecked, ElementName=AgreeCheckBox}" Value="False">
                                        <Setter Property="IsEnabled" Value="False" />
                                    </DataTrigger>

                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding IsChecked, ElementName=AgreeCheckBox}" Value="True" />
                                            <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" Value="True" />
                                        </MultiDataTrigger.Conditions>
                                        <MultiDataTrigger.Setters>
                                            <Setter Property="BorderBrush" Value="#80CAFF" />
                                            <Setter Property="Background" Value="#0084FF" />
                                        </MultiDataTrigger.Setters>
                                    </MultiDataTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Button.Style>
        </Button>

        <TextBlock
            Width="300"
            HorizontalAlignment="Center"
            FontSize="16"
            Foreground="#CDDADB"
            TextWrapping="Wrap">
            <Run Text="如果您拥有战网通行证但尚未与网易账号进行关联，选择" />
            <Run
                FontSize="17"
                FontWeight="Black"
                Foreground="#D9DADB"
                Text="关联您的账号" />
            <Run Text="以继续" />
            <Hyperlink
                Click="Hyperlink_Click"
                Style="{StaticResource BlizzardLinkStyle}"
                TextDecorations="None">
                <Run
                    FontSize="17"
                    FontWeight="Black"
                    Text="了解详情" />
            </Hyperlink>
            <Run Text="。" />
        </TextBlock>

    </StackPanel>
</UserControl>
